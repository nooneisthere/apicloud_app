<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width" />
        <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
        <title>JS platform</title>

        <style>
            html,body {
                -webkit-touch-callout:none;
                -webkit-text-size-adjust:none;
                -webkit-tap-highlight-color:rgba(0, 0, 0, 0);
                -webkit-user-select:none;
                background-color: #fff;
            }
        </style>
    <script type="text/javascript" src="./script/api.js"></script>
    <script type="text/javascript" src="./script/my_app.js"></script>

    </head>

    <body class="wrap">
        <H2>JS platform</H2>
        <input type="button" value="write whereisit" onclick="whereisit();">
        <input type="button" value="call_fun1" onclick="call_fun1();">
        <input type="button" value="call_fun2" onclick="call_fun2();">
        <input type="button" value="call_fun3" onclick="call_fun3();">

        <div id="show_msg">
        </div>



    <script type="text/javascript">
        var apifs ;
        var apidb;
        var debug_mode = false;
apiready = function () {

    apifs = api.require('fs');
    apidb = api.require('db');
    var myconfig = 'fs://myconfig.js';
    printout('reading from: ' + myconfig);
    api.readFile({
        path: myconfig
    }, function(ret, err){
        printout('readFile: '+  JSON.stringify(err)  + ' : ' +  JSON.stringify(ret.data) );
        if (ret.status){
            var config = JSON.parse(ret.data);
            for (i in config){
                loadScript(config[i]);
            }
        }
    });
}

    </script>
    </body>
</html>
